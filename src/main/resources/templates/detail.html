<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href=" /main.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
</head>
<body>

<div th:replace="~{nav.html::navbar}"></div>
    <div class="detail" >
        <h4>상세페이지</h4>
        <img src="https://placehold.co/300">

        <h4 th:text="${data.title}">금도금 바지</h4>
        <p th:text="${data.price + '원'}">7억</p>
<!--        <input type="hidden"  th:name="editId" th:value="${data.id}">  -->

            <button type="submit"   th:name="editId" th:value="${data.id}" class="de">수정</button>
            <!-- <p name="editId" hidden="hidden" value="${data.id}" "></p>-->
        </a>
    </div>

<script>
    $(document).ready(function(){
      $('.de').click(function(e){
          e.preventDefault();  // 기본 이벤트 방지 (링크 이동 막음)

          let sendData = $(this).val();   // 클릭한 버튼의 값 가져오기
          console.log("전송할 데이터:", sendData);  // 값 확인용 콘솔 출력

          $.ajax({
              url: "/edit",
              type: "GET",  // GET 요청
              data: { editId: sendData },  // editId 전달
              success: function(response){
                  $('#message').html(response);

              },
              error: function(xhr, status, error){
                  console.log("에러 발생:", error);
              }
          });
      });
  });
</script>


</body>
</html>